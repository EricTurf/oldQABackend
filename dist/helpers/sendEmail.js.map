{"version":3,"sources":["../../app/helpers/sendEmail.js"],"names":["helper","require","mail","module","exports","toEmail","subject","msg","callback","from_email","Email","to_email","content","Content","Mail","sg","process","env","SENDGRID_API_KEY","request","emptyRequest","method","path","body","toJSON","API","error","response","console","log","Error"],"mappings":";;AAAA,IAAIA,SAASC,QAAQ,UAAR,EAAoBC,IAAjC;;AAGA;AACAC,OAAOC,OAAP,GAAiB,UAASC,OAAT,EAAkBC,OAAlB,EAA2BC,GAA3B,EAAgCC,QAAhC,EAA0C;AACzD,MAAIC,aAAa,IAAIT,OAAOU,KAAX,CAAiB,0BAAjB,CAAjB;AACA,MAAIC,WAAW,IAAIX,OAAOU,KAAX,CAAiBL,OAAjB,CAAf;AACA,MAAIC,UAAUA,OAAd;AACA,MAAIM,UAAU,IAAIZ,OAAOa,OAAX,CAAmB,MAAnB,EAA2BN,GAA3B,CAAd;AACA,MAAIL,OAAO,IAAIF,OAAOc,IAAX,CAAgBL,UAAhB,EAA4BH,OAA5B,EAAqCK,QAArC,EAA+CC,OAA/C,CAAX;AACA,MAAIG,KAAKd,QAAQ,UAAR,EAAoBe,QAAQC,GAAR,CAAYC,gBAAhC,CAAT;AACA,MAAIC,UAAUJ,GAAGK,YAAH,CAAgB;AAC5BC,YAAQ,MADoB;AAE5BC,UAAM,eAFsB;AAG5BC,UAAMrB,KAAKsB,MAAL;AAHsB,GAAhB,CAAd;AAKAT,KAAGU,GAAH,CAAON,OAAP,EAAgB,UAASO,KAAT,EAAgBC,QAAhB,EAA0B;AACxC,QAAID,KAAJ,EAAW;AACTE,cAAQC,GAAR,CAAYH,KAAZ;AACAlB,eAAS,IAAIsB,KAAJ,CAAU,8CAAV,CAAT;AACD,KAHD,MAGO;AACLtB,eAAS,IAAT;AACD;AACF,GAPD;AAQD,CApBD","file":"sendEmail.js","sourcesContent":["var helper = require('sendgrid').mail;\n\n\n//EmailSender(toEmail,subject,msg,function(err){});\nmodule.exports = function(toEmail, subject, msg, callback) {\n  var from_email = new helper.Email('questionapp613@gmail.com');\n  var to_email = new helper.Email(toEmail);\n  var subject = subject;\n  var content = new helper.Content('text', msg);\n  var mail = new helper.Mail(from_email, subject, to_email, content);\n  var sg = require('sendgrid')(process.env.SENDGRID_API_KEY);\n  var request = sg.emptyRequest({\n    method: 'POST',\n    path: '/v3/mail/send',\n    body: mail.toJSON(),\n  });\n  sg.API(request, function(error, response) {\n    if (error) {\n      console.log(error);\n      callback(new Error('An error has occured while sending the email'));\n    } else {\n      callback(null);\n    }\n  });\n};\n"]}