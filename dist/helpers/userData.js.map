{"version":3,"sources":["../../app/helpers/userData.js"],"names":["mysql","require","connection","module","exports","refID","callback","email","query","table","format","err","results","fields","Error"],"mappings":";;AAAA;;AAEA,IAAIA,QAAMC,QAAQ,OAAR,CAAV;AACA,IAAIC,aAAWD,QAAQ,eAAR,CAAf;;AAEAE,OAAOC,OAAP,GAAe,UAASC,KAAT,EAAeC,QAAf,EAAwB;AACtC,KAAIC,KAAJ;AACA,KAAIC,QAAM,+BAAV;AACA,KAAIC,QAAM,CAAC,OAAD,EAAS,OAAT,EAAiBJ,KAAjB,CAAV;AACAG,SAAMR,MAAMU,MAAN,CAAaF,KAAb,EAAmBC,KAAnB,CAAN;AACAP,YAAWM,KAAX,CAAiBA,KAAjB,EAAwB,UAASG,GAAT,EAAcC,OAAd,EAAuBC,MAAvB,EAA+B;AACtD,MAAIF,GAAJ,EAAS;AACRL,YAAS,IAAIQ,KAAJ,CAAU,0BAAV,CAAT;AACA,GAFD,MAEM,IAAGF,UAAQ,CAAX,EAAa;AAClBN,YAAS,IAAT,EAAcM,QAAQ,CAAR,EAAWL,KAAzB;AAEA,GAHK,MAGD;AACJD,YAAS,IAAIQ,KAAJ,CAAU,4BAAV,CAAT;AACA;AAEA,EAVF;AAYA,CAjBD","file":"userData.js","sourcesContent":["/*Module to get user information from the mySQL database*/\n\nvar mysql=require('mysql');\nvar connection=require('./dbconnector');\n\nmodule.exports=function(refID,callback){\n\tvar email;\n\tvar query='SELECT * FROM ?? WHERE ?? = ?';\n\tvar table=[\"users\",\"refID\",refID];\n\tquery=mysql.format(query,table);\n\tconnection.query(query, function(err, results, fields) {\n\t\tif (err) {\n\t\t\tcallback(new Error('An SQL error has occured'));\n\t\t}else if(results>0){\n\t\t\tcallback(null,results[0].email);\n\n\t\t}else{\n\t\t\tcallback(new Error('No user with current refID'));\n\t\t}\n\t\t\n\t\t});\n\t\n};"]}